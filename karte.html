<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style1.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
          integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
          crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
            integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
            crossorigin=""></script>
    <title></title>
    <title>Karten</title>
</head>
<body onload="loadMap()">
    <div class="flex-container">
        <header class="column">
            <h1 class="flex-item"><a href="karte.html">Travelmap</a></h1>
            <a class="flex-item" href="index.html">Login</a>
            <a class="flex-item" href="uebersicht.html">Reiseuebersicht</a>
            <a class="flex-item" href="karte.html">Karte</a>
        </header>

        <div id='map' class="flex-item"></div>

        <button onclick="loadReisen()">Drück mich</button>

    </div>
    <script>

        function loadMap() {
            var mymap = L.map('map').setView([51.505, -0.09], 4);

            L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png	', {
                attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(mymap);

            const visitedCountries = ['DE', 'US', 'RU'];

            const loadData = async () => {
                const data = await fetch('https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_50m_admin_0_countries.geojson');
                return data.json();
            }

            const displayData = async () => {
                const geoJson = await loadData();
                const filteredData = {
                    ...geoJson,
                    features: geoJson.features.filter(feature =>
                        !visitedCountries.includes(feature.properties.iso_a2))
                };
                L.geoJSON(filteredData).addTo(mymap);
            }

            displayData();
        }

        function loadReisen() {

            console.log(localStorage.getItem('1'));

        }
    </script>

</body>

</html>